<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist Gestion de Projet Informatique - Grand Groupe</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: var(--dark-color);
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            border-bottom: 5px solid var(--accent-color);
        }

        .checklist-card {
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            border-top: 4px solid var(--secondary-color);
            transition: transform 0.3s ease;
        }

        .checklist-card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            background-color: var(--primary-color);
            color: white;
            font-weight: bold;
            border-radius: 10px 10px 0 0 !important;
        }

        .checklist-item {
            border-bottom: 1px solid #eee;
            padding: 1rem;
            transition: background-color 0.2s;
        }

        .checklist-item:hover {
            background-color: #f8f9fa;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .check-box {
            width: 24px;
            height: 24px;
            border: 2px solid #ddd;
            border-radius: 4px;
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .check-box.checked {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
            color: white;
            text-align: center;
        }

        .check-box.checked::after {
            content: "✓";
            display: block;
            margin-top: -2px;
        }

        .progress-section {
            position: sticky;
            top: 20px;
        }

        .progress {
            height: 10px;
            margin-bottom: 1rem;
        }

        .progress-bar {
            background-color: var(--secondary-color);
        }

        .section-completion {
            font-size: 0.9rem;
            color: #666;
        }

        .btn-print {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-print:hover {
            background-color: var(--dark-color);
            color: white;
        }

        .signature-section {
            background-color: var(--light-color);
            padding: 2rem;
            border-radius: 10px;
            margin-top: 2rem;
        }

        .important-note {
            background-color: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
        }

        @media print {
            .no-print {
                display: none !important;
            }

            body {
                background-color: white;
                font-size: 12pt;
                color: black;
            }

            .checklist-card {
                box-shadow: none;
                border: 1px solid #ddd;
                page-break-inside: avoid;
                margin-bottom: 1rem;
            }

            .card-header {
                background-color: var(--primary-color) !important;
                -webkit-print-color-adjust: exact;
                color: white !important;
            }

            .checklist-item {
                padding: 0.5rem 0;
            }

            .check-box {
                border-color: #000 !important;
                -webkit-print-color-adjust: exact;
            }

            .check-box.checked {
                background-color: var(--secondary-color) !important;
                border-color: var(--secondary-color) !important;
                color: white !important;
                -webkit-print-color-adjust: exact;
            }

            .signature-section {
                background-color: #f0f0f0 !important;
                -webkit-print-color-adjust: exact;
                border: 1px solid #ccc;
                margin-top: 1rem;
                padding: 1rem;
            }

            input[type="text"], input[type="date"] {
                border: none;
                border-bottom: 1px solid #ccc;
                padding: 0.2rem 0;
            }

            canvas {
                border: 1px solid #ccc !important;
            }
        }
    </style>
</head>
<body>
    <div class="header text-center">
        <div class="container">
            <h1><i class="bi bi-check-circle-fill"></i> Checklist Gestion de Projet Informatique - Grand Groupe</h1>
            <p class="lead">Vérifications complètes pour une gestion de projet réussie de A à Z</p>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-9">
                <div class="important-note">
                    <h4><i class="bi bi-exclamation-triangle-fill text-warning"></i> À utiliser pour tous les projets informatiques</h4>
                    <p>Cette checklist couvre l'ensemble du cycle de vie du projet, des besoins métiers à la mise en production, en passant par la gestion des ressources et la sécurité.</p>
                </div>

                <!-- Section 1: Initiation et Cadrage -->
                <div class="card checklist-card" id="section1">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-lightbulb"></i> 1. Initiation et Cadrage du Projet</span>
                        <span class="badge bg-secondary section-counter">0/7</span>
                    </div>
                    <div class="card-body">
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Expression du besoin métier claire et documentée</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Document formalisant les besoins fonctionnels et non fonctionnels"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Analyse de la valeur business et alignement stratégique</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Comment le projet s'aligne avec la stratégie d'entreprise"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Étude de faisabilité technique et économique</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Analyse des solutions possibles et de leur faisabilité"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Choix de la méthodologie (Agile, Waterfall, Hybride)</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Adaptée à la nature du projet et à la culture d'entreprise"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Définition des objectifs SMART et des KPIs</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Spécifiques, Mesurables, Atteignables, Réalistes, Temporels"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Identification des parties prenantes et rôles</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Métier, IT, Sécurité, Juridique, etc."></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Validation du cadrage par le comité de pilotage</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Approval formelle pour passer à l'étape suivante"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 2: Gestion des Ressources et Budget -->
                <div class="card checklist-card" id="section2">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-cash-stack"></i> 2. Gestion des Ressources et Budget</span>
                        <span class="badge bg-secondary section-counter">0/6</span>
                    </div>
                    <div class="card-body">
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Budget prévisionnel CAPEX/OPEX validé</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Investissements vs dépenses opérationnelles"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Plan de financement et ROI calculé</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Retour sur investissement attendu"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Équipe projet constituée avec rôles définis</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="MOA, MOE, Product Owner, Scrum Master, etc."></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Plan de charge des ressources humaines</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Disponibilité et allocation des ressources"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Processus de gestion des changements budgétaires</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Comment gérer les dépassements de budget"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Outils de suivi budgétaire mis en place</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Logiciels de gestion de projet et de budget"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 3: Architecture et Conception -->
                <div class="card checklist-card" id="section3">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-diagram-3"></i> 3. Architecture et Conception</span>
                        <span class="badge bg-secondary section-counter">0/6</span>
                    </div>
                    <div class="card-body">
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Choix de l'architecture technique validé</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Monolithique, Microservices, Serverless, etc."></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Décision Cloud (public, privé, hybride) ou On-Premise</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="En fonction des besoins et contraintes"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Review architecture par l'équipe d'architecture d'entreprise</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Validation de la conformité aux standards"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Approche Security by Design intégrée</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Sécurité intégrée dès la conception"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Plan de gestion des données et conformité RGPD</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Protection des données personnelles"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Documentation technique complète</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Diagrammes d'architecture, spécifications techniques"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 4: Développement et Tests -->
                <div class="card checklist-card" id="section4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-code-slash"></i> 4. Développement et Tests</span>
                        <span class="badge bg-secondary section-counter">0/7</span>
                    </div>
                    <div class="card-body">
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Environnements de dev/test/prod configurés</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Séparation des environnements"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Pipeline CI/CD mis en place</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Intégration et déploiement continus"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Politique de gestion de code source définie</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Branches, merge requests, code reviews"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Tests unitaires et d'intégration automatisés</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Couverture de test suffisante"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Tests de sécurité (SAST/DAST) réalisés</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Analyse statique et dynamique du code"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Tests de performance et charge effectués</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Validation des performances attendues"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Validation des critères d'acceptation par le métier</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="User Acceptance Testing"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 5: Sécurité et Conformité -->
                <div class="card checklist-card" id="section5">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-shield-lock"></i> 5. Sécurité et Conformité</span>
                        <span class="badge bg-secondary section-counter">0/5</span>
                    </div>
                    <div class="card-body">
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Analyse des risques sécurité complète</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Identification et mitigation des risques"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Revue de conformité aux politiques internes</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Standards de sécurité de l'entreprise"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Validation par l'équipe DevSecOps</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Intégration de la sécurité dans le cycle de vie"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Plan de reprise d'activité (PRA) défini</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Disaster Recovery Plan"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Audit sécurité pré-production réalisé</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Pentest, revue de code, etc."></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 6: Déploiement et Mise en Production -->
                <div class="card checklist-card" id="section6">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-rocket"></i> 6. Déploiement et Mise en Production</span>
                        <span class="badge bg-secondary section-counter">0/5</span>
                    </div>
                    <div class="card-body">
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Plan de déploiement détaillé validé</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Rollback plan inclus"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Checklist pré-production complétée</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Tous les prérequis vérifiés"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Communication aux utilisateurs effectuée</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Annonce, formation, documentation"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Validation du Change Advisory Board (CAB)</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Approval formel pour le déploiement"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Fenêtre de maintenance planifiée et communiquée</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Minimisation de l'impact sur les utilisateurs"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 7: Post-Production et Amélioration Continue -->
                <div class="card checklist-card" id="section7">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-graph-up"></i> 7. Post-Production et Amélioration Continue</span>
                        <span class="badge bg-secondary section-counter">0/5</span>
                    </div>
                    <div class="card-body">
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Monitoring et alerting mis en place</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Supervision des performances et disponibilité"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Retour d'expérience (Retro) réalisé</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Lessons learned du projet"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Mesure des KPIs et ROI effectif</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Comparaison avec les objectifs initiaux"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Documentation finale complétée et archivée</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Pour référence future et maintenance"></i>
                            </div>
                        </div>
                        <div class="checklist-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="check-box" onclick="toggleCheck(this)"></span>
                                    <span>Transfert à l'équipe support/maintenance</span>
                                </div>
                                <i class="bi bi-info-circle text-muted" data-bs-toggle="tooltip" title="Handover complet"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="signature-section">
                    <h4><i class="bi bi-pen"></i> Validation du Chef de Projet</h4>
                    <div class="row mt-4">
                        <div class="col-md-6 mb-3">
                            <label for="projectName" class="form-label">Nom du Projet</label>
                            <input type="text" class="form-control" id="projectName">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="projectStartDate" class="form-label">Date de début</label>
                            <input type="date" class="form-control" id="projectStartDate">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="projectEndDate" class="form-label">Date de fin</label>
                            <input type="date" class="form-control" id="projectEndDate">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="signature" class="form-label">Signature</label>
                        <canvas id="signatureCanvas" class="border rounded" width="100%" height="150" style="cursor: crosshair; background-color: white;"></canvas>
                        <button class="btn btn-sm btn-outline-secondary mt-2" onclick="clearSignature()">Effacer</button>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 no-print">
                <div class="progress-section">
                    <div class="card mb-4">
                        <div class="card-body text-center">
                            <h5>Progression globale</h5>
                            <div class="progress mt-3 mb-3">
                                <div class="progress-bar" id="globalProgress" role="progressbar" style="width: 0%"></div>
                            </div>
                            <h3 id="progressPercentage">0%</h3>
                            <p class="text-muted"><span id="checkedItems">0</span> / <span id="totalItems">41</span> éléments vérifiés</p>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h5>Progression par section</h5>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <a href="#section1" class="d-flex justify-content-between text-decoration-none text-dark">
                                    <span>1. Initiation</span>
                                    <span class="section-completion">0/7</span>
                                </a>
                                <div class="progress mt-1">
                                    <div class="progress-bar section-progress" data-section-id="section1" role="progressbar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <a href="#section2" class="d-flex justify-content-between text-decoration-none text-dark">
                                    <span>2. Ressources</span>
                                    <span class="section-completion">0/6</span>
                                </a>
                                <div class="progress mt-1">
                                    <div class="progress-bar section-progress" data-section-id="section2" role="progressbar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <a href="#section3" class="d-flex justify-content-between text-decoration-none text-dark">
                                    <span>3. Architecture</span>
                                    <span class="section-completion">0/6</span>
                                </a>
                                <div class="progress mt-1">
                                    <div class="progress-bar section-progress" data-section-id="section3" role="progressbar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <a href="#section4" class="d-flex justify-content-between text-decoration-none text-dark">
                                    <span>4. Développement</span>
                                    <span class="section-completion">0/7</span>
                                </a>
                                <div class="progress mt-1">
                                    <div class="progress-bar section-progress" data-section-id="section4" role="progressbar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <a href="#section5" class="d-flex justify-content-between text-decoration-none text-dark">
                                    <span>5. Sécurité</span>
                                    <span class="section-completion">0/5</span>
                                </a>
                                <div class="progress mt-1">
                                    <div class="progress-bar section-progress" data-section-id="section5" role="progressbar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <a href="#section6" class="d-flex justify-content-between text-decoration-none text-dark">
                                    <span>6. Déploiement</span>
                                    <span class="section-completion">0/5</span>
                                </a>
                                <div class="progress mt-1">
                                    <div class="progress-bar section-progress" data-section-id="section6" role="progressbar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <a href="#section7" class="d-flex justify-content-between text-decoration-none text-dark">
                                    <span>7. Post-Prod</span>
                                    <span class="section-completion">0/5</span>
                                </a>
                                <div class="progress mt-1">
                                    <div class="progress-bar section-progress" data-section-id="section7" role="progressbar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="d-grid gap-2 mt-4">
                        <button class="btn btn-print" onclick="window.print()">
                            <i class="bi bi-printer"></i> Imprimer la checklist
                        </button>
                        <button class="btn btn-success" onclick="saveChecklist()">
                            <i class="bi bi-save"></i> Sauvegarder la progression
                        </button>
                        <button class="btn btn-outline-secondary" onclick="resetChecklist()">
                            <i class="bi bi-arrow-counterclockwise"></i> Réinitialiser
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white text-center py-3 mt-5">
        <div class="container">
            <p>Checklist conçue pour la gestion de projets informatiques dans les grands groupes - © 2023</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Initialize tooltips
        document.addEventListener('DOMContentLoaded', function() {
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });

            // Load saved progress if available
            loadChecklist();

            // Initialize signature canvas
            initSignatureCanvas();
        });

        // Toggle check box
        function toggleCheck(element) {
            element.classList.toggle('checked');
            updateProgress();
        }

        // Update progress counters
        function updateProgress() {
            const sections = document.querySelectorAll('.checklist-card');
            let totalChecked = 0;
            const allCheckboxes = document.querySelectorAll('.check-box');
            const totalItems = allCheckboxes.length;
            
            const checkboxes = document.querySelectorAll('.check-box');
            const checked = document.querySelectorAll('.check-box.checked');
            const total = checkboxes.length;
            const checkedCount = checked.length;
            
            // Calcul du pourcentage
            const percentage = Math.round((checkedCount / total) * 100);
            
            // Mise à jour de l'affichage global
            document.getElementById('globalProgress').style.width = percentage + '%';
            document.getElementById('progressPercentage').textContent = percentage + '%';
            document.getElementById('checkedItems').textContent = checkedCount;
            document.getElementById('totalItems').textContent = total;

            sections.forEach(section => {
                const checkboxesInSection = section.querySelectorAll('.check-box');
                const checkedCountInSection = section.querySelectorAll('.check-box.checked').length;
                const totalInSection = checkboxesInSection.length;
                const progressPercentage = totalInSection === 0 ? 0 : Math.round((checkedCountInSection / totalInSection) * 100);

                // Update section counter
                const counter = section.querySelector('.section-counter');
                if (counter) {
                    counter.textContent = `${checkedCountInSection}/${totalInSection}`;
                    counter.className = checkedCountInSection === totalInSection ?
                        'badge bg-success section-counter' :
                        'badge bg-secondary section-counter';
                }

                // Update section progress bar in the sidebar
                const progressBar = document.querySelector(`.progress-bar[data-section-id="${section.id}"]`);
                if (progressBar) {
                    progressBar.style.width = `${progressPercentage}%`;
                    progressBar.parentNode.querySelector('.section-completion').textContent = `${checkedCountInSection}/${totalInSection}`;
                }

                totalChecked += checkedCountInSection;
            });

            // Update global progress
            const globalProgressPercentage = totalItems === 0 ? 0 : Math.round((totalChecked / totalItems) * 100);
            document.getElementById('globalProgress').style.width = `${globalProgressPercentage}%`;
            document.getElementById('progressPercentage').textContent = `${globalProgressPercentage}%`;
            document.getElementById('checkedItems').textContent = totalChecked;
            document.getElementById('totalItems').textContent = totalItems;

            // Save progress to localStorage
            saveProgressToStorage();
        }

        // Save progress to localStorage
        function saveProgressToStorage() {
            const checkboxes = document.querySelectorAll('.check-box');
            const progress = [];

            checkboxes.forEach(checkbox => {
                progress.push(checkbox.classList.contains('checked'));
            });

            localStorage.setItem('projectChecklistProgress', JSON.stringify(progress));

            // Save form fields
            const formData = {
                projectName: document.getElementById('projectName').value,
                projectStartDate: document.getElementById('projectStartDate').value,
                projectEndDate: document.getElementById('projectEndDate').value,
                signatureImage: canvas.toDataURL() // Save signature as data URL
            };
            localStorage.setItem('projectChecklistFormData', JSON.stringify(formData));
        }

        // Load progress from localStorage
        function loadChecklist() {
            const savedProgress = localStorage.getItem('projectChecklistProgress');
            if (savedProgress) {
                const progress = JSON.parse(savedProgress);
                const checkboxes = document.querySelectorAll('.check-box');

                checkboxes.forEach((checkbox, index) => {
                    if (progress[index]) {
                        checkbox.classList.add('checked');
                    } else {
                        checkbox.classList.remove('checked'); // Ensure unchecked state is also loaded
                    }
                });

                updateProgress(); // Call updateProgress after loading checkbox states
            }

            // Load form data
            const savedFormData = localStorage.getItem('projectChecklistFormData');
            if (savedFormData) {
                const formData = JSON.parse(savedFormData);
                document.getElementById('projectName').value = formData.projectName || '';
                document.getElementById('projectStartDate').value = formData.projectStartDate || '';
                document.getElementById('projectEndDate').value = formData.projectEndDate || '';

                if (formData.signatureImage) {
                    const img = new Image();
                    img.onload = function() {
                        ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear before drawing
                        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                    };
                    img.src = formData.signatureImage;
                }
            }
        }

        // Reset checklist
        function resetChecklist() {
            if (confirm('Êtes-vous sûr de vouloir réinitialiser toute la checklist ? Cette action est irréversible.')) {
                const checkboxes = document.querySelectorAll('.check-box');
                checkboxes.forEach(checkbox => {
                    checkbox.classList.remove('checked');
                });

                updateProgress();
                localStorage.removeItem('projectChecklistProgress');

                // Clear signature
                clearSignature();

                // Clear form fields
                document.getElementById('projectName').value = '';
                document.getElementById('projectStartDate').value = '';
                document.getElementById('projectEndDate').value = '';
                localStorage.removeItem('projectChecklistFormData'); // Clear saved form data
            }
        }

        // Signature Canvas functionality
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;
        let canvas, ctx;

        function initSignatureCanvas() {
            canvas = document.getElementById('signatureCanvas');
            ctx = canvas.getContext('2d');

            // Set canvas size properly
            function resizeCanvas() {
                const container = canvas.parentElement;
                canvas.width = container.offsetWidth;
                canvas.height = 150;
                ctx.lineWidth = 2;
                ctx.lineCap = 'round';
                ctx.strokeStyle = '#000';
                // When resizing, redrawing the saved signature if any
                loadChecklist(); // This will try to redraw the image
            }

            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            // Event listeners for drawing
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('touchstart', startDrawing, { passive: false }); // passive: false to allow preventDefault

            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('touchmove', draw, { passive: false });

            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('touchend', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
        }

        function startDrawing(e) {
            isDrawing = true;
            const pos = getPosition(e);
            lastX = pos.x;
            lastY = pos.y;
            e.preventDefault();
        }

        function draw(e) {
            if (!isDrawing) return;

            const pos = getPosition(e);
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(pos.x, pos.y);
            ctx.stroke();

            lastX = pos.x;
            lastY = pos.y;
            e.preventDefault();
        }

        function stopDrawing() {
            isDrawing = false;
            // Optionally, save the signature after drawing stops
            saveProgressToStorage();
        }

        function getPosition(e) {
            let x, y;
            const rect = canvas.getBoundingClientRect();
            if (e.type.includes('touch')) {
                const touch = e.touches[0] || e.changedTouches[0];
                x = touch.clientX - rect.left;
                y = touch.clientY - rect.top;
            } else {
                x = e.clientX - rect.left;
                y = e.clientY - rect.top;
            }
            return { x, y };
        }

        function clearSignature() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Also clear signature from local storage
            const savedFormData = JSON.parse(localStorage.getItem('projectChecklistFormData'));
            if (savedFormData) {
                savedFormData.signatureImage = '';
                localStorage.setItem('projectChecklistFormData', JSON.stringify(savedFormData));
            }
        }

        // Alias for saving
        function saveChecklist() {
            saveProgressToStorage();
            alert('Progression sauvegardée avec succès!');
        }
    </script>
</body>
</html>